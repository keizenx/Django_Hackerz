{% csrf_token %}
{% if form.errors %}
<div class="alert alert-danger">
  Des erreurs sont présentes dans le formulaire. Veuillez les corriger.
</div>
{% endif %}
<div class="form-group">
  <label for="username" class="form-label">Nom d'utilisateur</label>
  <div style="position: relative;">
    <svg style="position: absolute; left: 0.75rem; top: 50%; transform: translateY(-50%); color: hsl(240, 5%, 64.9%);" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>
    <input type="text" id="username" name="username" class="form-input" style="padding-left: 2.5rem;" placeholder="votre_pseudo" required>
  </div>
  {% if form.username.errors %}
    <div class="text-danger" style="color: red; font-size: 0.75rem; margin-top: 0.25rem;">{{ form.username.errors.0 }}</div>
  {% endif %}
</div>

<div class="form-group">
  <label for="email" class="form-label">Email</label>
  <div style="position: relative;">
    <svg style="position: absolute; left: 0.75rem; top: 50%; transform: translateY(-50%); color: hsl(240, 5%, 64.9%);" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>
    <input type="email" id="email" name="email" class="form-input" style="padding-left: 2.5rem;" placeholder="votre@email.com" required>
  </div>
  {% if form.email.errors %}
    <div class="text-danger" style="color: red; font-size: 0.75rem; margin-top: 0.25rem;">{{ form.email.errors.0 }}</div>
  {% endif %}
</div>

<div class="form-group">
  <label for="first_name" class="form-label">Prénom</label>
  <div style="position: relative;">
    <svg style="position: absolute; left: 0.75rem; top: 50%; transform: translateY(-50%); color: hsl(240, 5%, 64.9%);" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>
    <input type="text" id="first_name" name="first_name" class="form-input" style="padding-left: 2.5rem;" placeholder="Prénom" required>
  </div>
  {% if form.first_name.errors %}
    <div class="text-danger" style="color: red; font-size: 0.75rem; margin-top: 0.25rem;">{{ form.first_name.errors.0 }}</div>
  {% endif %}
</div>

<div class="form-group">
  <label for="last_name" class="form-label">Nom</label>
  <div style="position: relative;">
    <svg style="position: absolute; left: 0.75rem; top: 50%; transform: translateY(-50%); color: hsl(240, 5%, 64.9%);" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>
    <input type="text" id="last_name" name="last_name" class="form-input" style="padding-left: 2.5rem;" placeholder="Nom" required>
  </div>
  {% if form.last_name.errors %}
    <div class="text-danger" style="color: red; font-size: 0.75rem; margin-top: 0.25rem;">{{ form.last_name.errors.0 }}</div>
  {% endif %}
</div>

<div class="form-group">
  <label for="password1" class="form-label">Mot de passe</label>
  <div style="position: relative;">
    <svg style="position: absolute; left: 0.75rem; top: 50%; transform: translateY(-50%); color: hsl(240, 5%, 64.9%);" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg>
    <div class="password-input-group">
      <input type="password" id="password1" name="password1" class="form-input" style="padding-left: 2.5rem; padding-right: 2.5rem;" placeholder="••••••••" required>
      <button type="button" id="toggle-password1" style="position: absolute; right: 0.75rem; top: 50%; transform: translateY(-50%); background: none; border: none; color: hsl(240, 5%, 64.9%); cursor: pointer;">
        <i class="bi bi-eye"></i>
      </button>
    </div>
  </div>
  {% if form.password1.errors %}
    <div class="text-danger" style="color: red; font-size: 0.75rem; margin-top: 0.25rem;">{{ form.password1.errors.0 }}</div>
  {% endif %}
</div>

<div class="form-group">
  <label for="password2" class="form-label">Confirmer le mot de passe</label>
  <div style="position: relative;">
    <svg style="position: absolute; left: 0.75rem; top: 50%; transform: translateY(-50%); color: hsl(240, 5%, 64.9%);" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg>
    <div class="password-input-group">
      <input type="password" id="password2" name="password2" class="form-input" style="padding-left: 2.5rem; padding-right: 2.5rem;" placeholder="••••••••" required>
      <button type="button" id="toggle-password2" style="position: absolute; right: 0.75rem; top: 50%; transform: translateY(-50%); background: none; border: none; color: hsl(240, 5%, 64.9%); cursor: pointer;">
        <i class="bi bi-eye"></i>
      </button>
    </div>
  </div>
  {% if form.password2.errors %}
    <div class="text-danger" style="color: red; font-size: 0.75rem; margin-top: 0.25rem;">{{ form.password2.errors.0 }}</div>
  {% endif %}
</div>

<div style="display: flex; align-items: center; margin-bottom: 1.5rem;">
  <input type="checkbox" id="terms" name="terms" class="form-checkbox" required>
  <label for="terms" style="margin-left: 0.5rem; font-size: 0.875rem;">
    J'accepte les <a href="{% url 'terms' %}" style="color: hsl(142, 100%, 50%); text-decoration: none;" target="_blank">conditions d'utilisation</a> et la <a href="{% url 'privacy' %}" style="color: hsl(142, 100%, 50%); text-decoration: none;" target="_blank">politique de confidentialité</a>
  </label>
</div>

<button type="submit" class="form-btn" style="width: 100%; display: flex; align-items: center; justify-content: center; gap: 0.5rem;">
  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="20" y1="8" x2="20" y2="14"></line><line x1="23" y1="11" x2="17" y2="11"></line></svg>
  <span>Créer un compte</span>
</button>

<div style="text-align: center; margin-top: 1.5rem;">
  <p style="font-size: 0.875rem; color: hsl(240, 5%, 64.9%);">
    Déjà un compte? <a href="{% url 'login' %}" style="color: hsl(142, 100%, 50%); text-decoration: none;">Se connecter</a>
  </p>
</div> 
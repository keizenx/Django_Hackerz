{% csrf_token %}
{% if form.errors %}
<div class="alert alert-danger">
  Identifiants invalides. Veuillez réessayer.
</div>
{% endif %}
{% if next %}
  <input type="hidden" name="next" value="{{ next }}" />
{% endif %}
<div class="form-group">
  <label for="username" class="form-label">Email</label>
  <div style="position: relative;">
    <svg style="position: absolute; left: 0.75rem; top: 50%; transform: translateY(-50%); color: hsl(240, 5%, 64.9%);" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>
    <input type="email" id="username" name="username" class="form-input" style="padding-left: 2.5rem;" placeholder="votre@email.com" required>
  </div>
</div>

<div class="form-group">
  <label for="password" class="form-label">Mot de passe</label>
  <div style="position: relative;">
    <svg style="position: absolute; left: 0.75rem; top: 50%; transform: translateY(-50%); color: hsl(240, 5%, 64.9%);" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg>
    <div class="password-input-group">
      <input type="password" id="password" name="password" class="form-input" style="padding-left: 2.5rem; padding-right: 2.5rem;" placeholder="••••••••" required>
      <button type="button" id="toggle-password" style="position: absolute; right: 0.75rem; top: 50%; transform: translateY(-50%); background: none; border: none; color: hsl(240, 5%, 64.9%); cursor: pointer;">
        <i class="bi bi-eye"></i>
      </button>
    </div>
  </div>
</div>

<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
  <div style="display: flex; align-items: center;">
    <input type="checkbox" id="remember-me" name="remember-me" class="form-checkbox">
    <label for="remember-me" style="margin-left: 0.5rem; font-size: 0.875rem;">Se souvenir de moi</label>
  </div>
  <a href="{% url 'password_reset' %}" style="font-size: 0.875rem; color: hsl(142, 100%, 50%); text-decoration: none;">Mot de passe oublié?</a>
</div>

<button type="submit" class="form-btn" style="width: 100%; display: flex; align-items: center; justify-content: center; gap: 0.5rem;">
  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"></path><polyline points="10 17 15 12 10 7"></polyline><line x1="15" y1="12" x2="3" y2="12"></line></svg>
  <span>Se connecter</span>
</button>

<div style="text-align: center; margin-top: 1.5rem;">
  <p style="font-size: 0.875rem; color: hsl(240, 5%, 64.9%);">
    Pas encore de compte? <a href="{% url 'register' %}" style="color: hsl(142, 100%, 50%); text-decoration: none;">S'inscrire</a>
  </p>
</div> 